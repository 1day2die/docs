(self.webpackChunkcontrolpanel=self.webpackChunkcontrolpanel||[]).push([[291],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return s},kt:function(){return f}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var u=r.createContext({}),c=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=c(e.components);return r.createElement(u.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,u=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),p=c(n),f=o,m=p["".concat(u,".").concat(f)]||p[f]||d[f]||a;return n?r.createElement(m,i(i({ref:t},s),{},{components:n})):r.createElement(m,i({ref:t},s))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=p;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var c=2;c<a;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},3873:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(7294),o=n(6010),a="tableOfContentsInline_3fWc";function i(e){var t=e.toc,n=e.isChild;return t.length?r.createElement("ul",{className:n?"":"table-of-contents"},t.map((function(e){return r.createElement("li",{key:e.id},r.createElement("a",{href:"#"+e.id,dangerouslySetInnerHTML:{__html:e.value}}),r.createElement(i,{isChild:!0,toc:e.children}))}))):null}var l=function(e){var t=e.toc;return r.createElement("div",{className:(0,o.Z)(a)},r.createElement(i,{toc:t}))}},235:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return u},contentTitle:function(){return c},metadata:function(){return s},toc:function(){return d},default:function(){return f}});var r=n(2122),o=n(9756),a=(n(7294),n(3905)),i=n(3873),l=["components"],u={sidebar_position:3},c="Additional Configuration",s={unversionedId:"Installation/additional-configuration",id:"Installation/additional-configuration",isDocsHomePage:!1,title:"Additional Configuration",description:"Discord Auth",source:"@site/docs/Installation/additional-configuration.md",sourceDirName:"Installation",slug:"/Installation/additional-configuration",permalink:"/docs/Installation/additional-configuration",editUrl:"https://github.com/ControlPanel-gg/docs/docs/Installation/additional-configuration.md",version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Webserver Configuration",permalink:"/docs/Installation/webserver"},next:{title:"Troubleshooting",permalink:"/docs/Installation/troubleshooting"}},d=[{value:"Discord Auth",id:"discord-auth",children:[]},{value:"ReCAPTCHA v2",id:"recaptcha-v2",children:[]},{value:"Mail Configuration",id:"mail-configuration",children:[]}],p={toc:d};function f(e){var t=e.components,n=(0,o.Z)(e,l);return(0,a.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"additional-configuration"},"Additional Configuration"),(0,a.kt)(i.Z,{toc:d,mdxType:"TOCInline"}),(0,a.kt)("h3",{id:"discord-auth"},"Discord Auth"),(0,a.kt)("p",null,"Edit the ",(0,a.kt)("inlineCode",{parentName:"p"},".env")," file and look for discord related options :) make sure to fill out the desired options correctly."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Setting up auth"),(0,a.kt)("br",null),"\n",(0,a.kt)("a",{parentName:"p",href:"http://faq.demostoreprestashop.com/faq.php?fid=133&pid=41"},"How")," to get CLIENT_ID and CLIENT_SECRET ",(0,a.kt)("br",null),"\nfor the redirect uri you have to use YOUR_WEBSITE_URL + /auth/callback (example: ",(0,a.kt)("a",{parentName:"p",href:"https://bitsec.dev/auth/callback"},"https://bitsec.dev/auth/callback"),")"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Adding the discord bot"),(0,a.kt)("br",null),"\nif you would like to automatically force new users into your discord server after they have verified, you will need to set up a discord bot. This can be an already existing discord bot in your server."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"add your discord bot to your server and give him the appropriate permissions."),(0,a.kt)("li",{parentName:"ol"},"add your discord bot token to the .env file."),(0,a.kt)("li",{parentName:"ol"},"add your discord server(guild) ID to the .env file.")),(0,a.kt)("p",null,"That's it! The dashboard can now use your bot to make API calls to discord to place new users into your discord server. your bot will not come online as we only use it to make API calls when some 1 verifies, you can still use your bot as your normally would :)"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Custom role reward"),(0,a.kt)("br",null),"\nIf you would like to give your users a custom role automatically when they verify their discord account, you have to copy the ID of an existing role from your discord server and place it in the .env as well."),(0,a.kt)("h3",{id:"recaptcha-v2"},"ReCAPTCHA v2"),(0,a.kt)("p",null,"Controlpanel uses visible reCAPTCHA to secure the login page from brute-force attacks. If the login attempt is considered suspicious, users may be required to perform a reCAPTCHA challenge."),(0,a.kt)("p",null,"You can generate your own keys in the ",(0,a.kt)("a",{parentName:"p",href:"https://www.google.com/recaptcha/admin/create"},"admin console")),(0,a.kt)("p",null,"To add your keys you need to edit the ",(0,a.kt)("inlineCode",{parentName:"p"},".env")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"#GOOGLE RECAPTCHA\nRECAPTCHA_SITE_KEY=6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI\nRECAPTCHA_SECRET_KEY=6LeIxAcTAAAAAGG-vFI1TnRWxMZNFuojJ4WifJWe\n")),(0,a.kt)("h3",{id:"mail-configuration"},"Mail Configuration"),(0,a.kt)("p",null,"To send out notifications and mails, you will need to config your mail variables correctly.\nYou can use a free mail server; for example from ",(0,a.kt)("a",{parentName:"p",href:"https://www.mailjet.com/"},"mailjet"),". you can also install your own mail server using for example ",(0,a.kt)("a",{parentName:"p",href:"https://mailcow.email/"},"mailcow")),(0,a.kt)("p",null,"Ensure to clear the config cache and restart the queue workers when making changes to the email details.",(0,a.kt)("br",null),"\n",(0,a.kt)("inlineCode",{parentName:"p"},"php artisan config:clear")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"php artisan queue:restart")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'#.env variables you need to configure\n\nMAIL_MAILER=smtp\nMAIL_HOST=mailhog\nMAIL_PORT=1025\nMAIL_USERNAME=null\nMAIL_PASSWORD=null\nMAIL_ENCRYPTION=null\nMAIL_FROM_ADDRESS=null\nMAIL_FROM_NAME="${APP_NAME}"\n')))}f.isMDXComponent=!0},6010:function(e,t,n){"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function o(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}n.d(t,{Z:function(){return o}})}}]);